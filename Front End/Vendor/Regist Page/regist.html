<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="regist.css">
    <title>Wisata Indonesia</title>
    <link rel="icon" href="../Aset/img/logo-head.png" type="image/x-icon">
</head>

<body>

    <div class="content">
        <div class="kiri-layar">
            <div class="head">
                <img src="../Aset/img/logo-head.png" alt="Logo Wisata Indonesia">
                <div class="font">
                    <p class="h2">Wisata</p>
                    <p class="h2">Indonesia</p>
                </div>
            </div>
        </div>
        <div class="kanan-layar">
            <div class="btn-click">
                <button id="defaultOpen" class="tablink tab-vendor1"
                    onclick="openPage('wisatawan', this)">Wisatawan</button>
                <button class="tablink tab-vendor" onclick="openPage('vendor', this)" style="width: 110px;"> Vendor
                </button>
            </div>
            <div class="bgform">
                <div id="wisatawan" class="tabcontent">
                    <div class="right-box bg-wisatawan">
                        <p class="h4">Registrasi Akun Wisatawan</p>
                        <form id="formWisatawan">
                            <div class="account-form row">
                                <div class="col-12">
                                    <label for="email-w" class="form-label">Email<span> *</span></label><br>
                                    <input type="text" class="form-control" id="email-w"
                                        placeholder="Email123@gmail.com">
                                </div>
                                <div class="col-sm-6 col-lg-5 col-xxl-6">
                                    <label for="katasandi-w" class="form-label acc-mt-10">Katasandi<span>
                                            *</span></label><br>
                                    <input type="password" class="form-control" id="katasandi-w"
                                        placeholder="Kata Sandi">
                                </div>

                                <div class="col-sm-6 col-lg-7 col-xxl-6">
                                    <label for="konfirmasikatsan-w" class="form-label acc-mt-10">Konfirmasi
                                        Katasandi<span>
                                            *</span></label><br>
                                    <input type="password" class="form-control" id="konfirmasikatsan-w"
                                        placeholder="Konfirmasi Kata Sandi">
                                </div>

                            </div>
                            <div class="wisatawan-data row">
                                <p class="h6">Biodata Diri</p>

                                <div class="col-sm-6 col-lg-12">
                                    <label for="namauser-w" class="form-label acc-mt-10">Nama Lengkap<span>
                                            *</span></label><br>
                                    <input type="text" class="form-control" id="namauser-w" placeholder="Nama Lengkap">
                                </div>

                                <div class="col-sm-6 col-xxl-4">
                                    <label for="jkel-w" class="form-label acc-mt-10">Jenis Kelamin<span>
                                            *</span></label><br>
                                    <select name="Jenis Kelamin" id="jkel-w" class="form-select">
                                        <option value="pilihjeniskelamin" id="pilihJenisKelamin" checked>Pilih Jenis
                                            Kelamin</option>
                                        <option value="Laki-Laki">Laki-Laki</option>
                                        <option value="Perempuan">Perempuan</option>
                                    </select>
                                </div>

                                <div class="col-sm-3 col-lg-6 col-xl-8">
                                    <label for="tglLahir" class="form-label acc-mt-10">Tanggal Lahir<span>
                                            *</span></label><br>
                                    <input type="date" class="form-control" id="tglLahir" placeholder="mm/dd/yyyy">
                                </div>

                                <div class="col-sm-5 col-lg-12">
                                    <label for="kota-w" class="form-label acc-mt-10">Kota<span> *</span></label><br>
                                    <select name="Kota" id="kota-w" class="form-select">
                                        <option value="pilihkota" id="pilihKota" checked>Pilih Kota</option>
                                        <option value="Jakarta">Jakarta</option>
                                        <option value="Bandung">Bandung</option>
                                        <option value="Manokwari">Manokwari</option>
                                        <option value="Bali">Bali</option>
                                        <option value="Yogyakarta">Yogyakarta</option>
                                        <option value="Surabaya">Surabaya</option>
                                        <option value="Medan">Medan</option>
                                        <option value="Makassar">Makassar</option>
                                        <option value="Malang">Malang</option>
                                        <option value="Lombok">Lombok</option>
                                        <option value="Semarang">Semarang</option>
                                        <option value="Palembang">Palembang</option>
                                        <option value="Manado">Manado</option>
                                        <option value="Batam">Batam</option>
                                        <option value="Banjarmasin">Banjarmasin</option>
                                        <option value="Solo">Solo (Surakarta)</option>
                                        <option value="Bogor">Bogor</option>
                                        <option value="Denpasar">Denpasar</option>
                                        <option value="Padang">Padang</option>
                                        <option value="Balikpapan">Balikpapan</option>
                                        <option value="Pontianak">Pontianak</option>
                                    </select>
                                </div>

                                <div class="col-sm-4 col-lg-12">
                                    <label for="notelp-w" class="form-label acc-mt-10">Nomor Telepon<span>
                                            *</span></label><br>
                                    <input type="text" class="form-control" id="notelp-w" placeholder="Nomor Telepon">
                                </div>
                            </div>

                            <button type="submit" class="btn btn-send w-10 acc-mt-10" value="submit">
                                Send
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <div id="vendor" class="tabcontent" style="display: none;">
                <div class="right-box bg-vendor">
                    <p class="h4">Registrasi Akun Vendor</p>
                    <form id="formVendor">
                        <div class="account-form row">
                            <div class="col-12">
                                <label for="email-v" class="form-label">Email<span> *</span></label><br>
                                <input type="text" class="form-control" id="email-v" placeholder="Email123@gmail.com">
                            </div>

                            <div class="col-sm-6 col-lg-6 col-xxl-6">
                                <label for="katasandi-v" class="form-label acc-mt-10">Katasandi<span>
                                        *</span></label><br>
                                <input type="password" class="form-control" id="katasandi-v" placeholder="Kata Sandi">
                            </div>

                            <div class="col-sm-6 col-lg-6 col-xxl-6">
                                <label for="konfirmasikatsan-v" class="form-label acc-mt-10">Konfirmasi Katasandi<span>
                                        *</span></label><br>
                                <input type="password" class="form-control" id="konfirmasikatsan-v"
                                    placeholder="Konfirmasi Kata Sandi">
                            </div>
                        </div>
                        <div class="wisatawan-data row">
                            <p class="h6">Biodata Vendor</p>

                            <div class="col-12">
                                <label for="namauser-v" class="form-label acc-mt-10">Nama Vendor<span>
                                        *</span></label><br>
                                <input type="text" class="form-control" id="namauser-v" placeholder="Nama Vendor">
                            </div>

                            <div class="col-sm-6 col-lg-7 col-xxl-7">
                                <label for="alamat-v" class="form-label acc-mt-10">Alamat<span> *</span></label><br>
                                <input type="text" class="form-control" id="alamat-v" placeholder="Alamat">
                            </div>

                            <div class="col-sm-6 col-lg-5 col-xxl-5">
                                <label for="notelp-v" class="form-label acc-mt-10">Nomor Telepon<span>
                                        *</span></label><br>
                                <input type="text" class="form-control" id="notelp-v" placeholder="Nomor Telepon">
                            </div>
                        </div>
                        <div class="wisatawan-data row">
                            <p class="h6">Sosial Media</p>

                            <div class="col-12">
                                <label for="instagram" class="form-label acc-mt-10">Instagram</label><br>
                                <input type="text" class="form-control" id="instagram" placeholder="Instagram">
                            </div>

                            <div class="col-sm-6 col-xxl-6">
                                <label for="tiktok" class="form-label acc-mt-10">Tiktok</label><br>
                                <input type="text" class="form-control" id="tiktok" placeholder="Tiktok">
                            </div>

                            <div class="col-sm-6 col-xxl-6">
                                <label for="facebook" class="form-label acc-mt-10">Facebook</label><br>
                                <input type="text" class="form-control" id="facebook" placeholder="Facebook">
                            </div>
                        </div>

                        <button type="submit" class="btn btn-send w-10 acc-mt-10" id="submitVendor">
                            Send
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="regist.js"></script>
    <script>
        // Fungsi untuk fetch data form wisatawan
        document.getElementById('formWisatawan').addEventListener('submit', async function (e) {
            e.preventDefault();

            // Mengambil nilai dari form
            const formData = {
                emailw: document.getElementById('email-w').value,
                passwordw: document.getElementById('katasandi-w').value,
                konfirmasipasswordw: document.getElementById('konfirmasikatsan-w').value,
                namaLengkapw: document.getElementById('namauser-w').value,
                jenisKelaminw: document.getElementById('jkel-w').value,
                tanggalLahirw: document.getElementById('tglLahir').value,
                kotaw: document.getElementById('kota-w').value,
                nomorTeleponw: document.getElementById('notelp-w').value
            };

            try {
                // Mengirim data ke server
                const response = await fetch('/register/wisatawan', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (response.ok) {
                    alert('Akses Tokenmu: ' + result.access_token);
                    console.log(result);
                    formWisatawan.reset(); // Reset form setelah submit berhasil
                } else {
                    throw new Error(result.message || 'Gagal melakukan registrasi');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Registrasi Wisatawan gagal!');
            }
        });

        // Fungsi untuk fetch data form vendor
        document.getElementById('formVendor').addEventListener('submit', async function (e) {
            e.preventDefault();

            const formData = {
                email: document.getElementById('email-v').value,
                katasandi: document.getElementById('katasandi-v').value,
                konfirmasiKatasandi: document.getElementById('konfirmasikatsan-v').value,
                namaVendor: document.getElementById('namauser-v').value,
                alamat: document.getElementById('alamat-v').value,
                nomorTelepon: document.getElementById('notelp-v').value,
                instagram: document.getElementById('instagram').value,
                tiktok: document.getElementById('tiktok').value,
                facebook: document.getElementById('facebook').value,
            };

            try {
                const response = await fetch('/register/vendor', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                const result = await response.json();
                alert('Registrasi Vendor berhasil!');
                console.log(result);
            } catch (error) {
                console.error('Error:', error);
                alert('Registrasi Vendor gagal!');
            }
        });

    </script>
</body>

</html>